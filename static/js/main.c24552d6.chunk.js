(this["webpackJsonpmake-a-story"]=this["webpackJsonpmake-a-story"]||[]).push([[0],{43:function(e,t,n){},58:function(e,t,n){},69:function(e,t,n){"use strict";n.r(t);var a=n(4),o=n.n(a),c=n(35),s=n.n(c),r=(n(43),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,70)).then((function(t){var n=t.getCLS,a=t.getFID,o=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),o(e),c(e),s(e)}))}),i=n(13),d=n(14),l=n(16),h=n(15),u=n(18),j=n(8),m=n(2),b=function(e){var t=e.title,n=e.showItemsDescription;return Object(m.jsx)("div",{className:"wordItem",onClick:n,children:Object(m.jsx)("h2",{className:"header",children:t})})},p=function(e){var t=e.title,n=e.description,a=e.pronunciation,o=e.example;return Object(m.jsxs)("div",{className:"itemDetail",children:[Object(m.jsx)("h1",{className:"header",children:t}),Object(m.jsx)("h2",{className:"pronunciation",children:a}),Object(m.jsxs)("p",{className:"descriptionItem",children:[Object(m.jsx)("b",{children:"Definition"}),": ",n]}),Object(m.jsxs)("p",{className:"descriptionItem",children:[" ",o]})]})},g=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return Object(m.jsx)("div",{className:"wordList",children:this.props.contacts.map(this.props.wordTowordItem)})}}]),n}(o.a.Component),v=n(19),f=(n(27),n(36)),O=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={contacts:[],getWord:"",getDetailsToThisWord:!1,gameCode:"",lastSentence:"",newSentence:"",story:"",gameID:"",definition:"",example:"",level:"",diffDef:""},e.getNewWords=function(t){e.setState({contacts:[],getDetailsToThisWord:!1}),e.setGameLevel()},e.showItemsDescription=function(t){var n=e.getIndex(t.target.textContent),a=e.state.contacts[n];a!==e.state.getWord?e.setState({getWord:a,getDetailsToThisWord:!0}):e.setState({getDetailsToThisWord:!e.state.getDetailsToThisWord})},e.findDefinitionInWordnikAPI=function(t){fetch(" https://api.wordnik.com/v4/word.json/"+t+"/definitions?limit=200&includeRelated=false&useCanonical=false&includeTags=false&api_key=8gs3fw3vcnv65zzemkox7s6b6kudb91pjc2kmlmaqhjvmpy1a").then((function(e){return e.json()})).then((function(t){e.setState({contacts:e.state.contacts.concat(t[0])}),console.log(t[0]),console.log(e.state.contacts)}))},e.getIndex=function(t){return e.state.contacts.findIndex((function(e){return e.word.toLowerCase()===t.toLowerCase()}))},e.wordToWordItem=function(t){var n=t.word.toLowerCase();return Object(m.jsx)(b,{title:n,showItemsDescription:e.showItemsDescription},n)},e.wordToDefinitionWordItem=function(e){var t=e.word.toLowerCase(),n=e.text?Object(f.a)(e.text):e.definition;return Object(m.jsx)(p,{title:t,description:n,example:""})},e.getGameFromDB=function(t){v.a.firestore().collection("game").where("gamePIN","==",t).get().then((function(n){n.forEach((function(n){e.setState({gameCode:t,lastSentence:n.get("lastSentence"),story:n.get("story"),gameID:n.id,level:n.get("level")}),e.getNewWords()}))}))},e.handleInput=function(t){e.setState({newSentence:t.target.value})},e.submitNewSentence=function(){e.state.newSentence.length>5&&e.checkIfSentenceHasGivenWords()},e.checkIfSentenceHasGivenWords=function(){e.state.newSentence.toLowerCase().includes(e.state.contacts[0].word.toLowerCase())&&e.state.newSentence.toLowerCase().includes(e.state.contacts[1].word.toLowerCase())?e.saveToDB():e.setState({newSentence:"You must to use all given words!"})},e}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.getGameFromDB(this.props.location.gameCode),document.body.style.background="var(--redGradient)"}},{key:"getJsonFromApiAdvanced",value:function(){var e=this;fetch("https://random-words-api.vercel.app/word").then((function(e){return e.json()})).then((function(t){e.setState({contacts:e.state.contacts.concat(t)})}))}},{key:"getJsonFromApi",value:function(){var e=this;fetch("https://api.wordnik.com/v4/words.json/randomWord?hasDictionaryDef=true&maxCorpusCount=-1&minDictionaryCount=1&maxDictionaryCount=-1&minLength=5&maxLength=-1&api_key=8gs3fw3vcnv65zzemkox7s6b6kudb91pjc2kmlmaqhjvmpy1a").then((function(e){return e.json()})).then((function(t){e.findDefinitionInWordnikAPI(t.word)}))}},{key:"setGameLevel",value:function(){switch(this.state.level){case"Beginner":this.getJsonFromApi(),this.getJsonFromApi();break;case"Intermediate":this.getJsonFromApi(),this.getJsonFromApiAdvanced();break;case"Advanced":this.getJsonFromApiAdvanced(),this.getJsonFromApiAdvanced();break;default:this.navigateToHomePage()}}},{key:"navigateToHomePage",value:function(){this.props.history.push({pathname:"/make-a-story/"})}},{key:"saveToDB",value:function(){var e=this;v.a.firestore().collection("game").doc(this.state.gameID).update({lastSentence:this.state.newSentence,story:this.state.story+" "+this.state.newSentence}).then((function(){e.navigateToHomePage()}))}},{key:"render",value:function(){var e=this;return Object(m.jsxs)("div",{className:"gamePage",children:[Object(m.jsxs)("div",{className:"gamePageContainer",children:[Object(m.jsx)("h1",{className:"gameCode",children:this.state.gameCode}),Object(m.jsxs)("p",{children:["This is the last",Object(m.jsx)("br",{})," sentence someone wrote",Object(m.jsx)("br",{})," in your story \u2193"]}),Object(m.jsx)("h1",{className:"lastSentence",children:this.state.lastSentence}),Object(m.jsx)("div",{children:100!==this.state.contacts.length?Object(m.jsx)(g,{contacts:this.state.contacts,wordTowordItem:this.wordToWordItem,showItemsDescription:this.showItemsDescription}):"Loading..."})]}),Object(m.jsx)("div",{children:this.state.getDetailsToThisWord?Object(m.jsx)("div",{children:this.wordToDefinitionWordItem(this.state.getWord)}):""}),Object(m.jsx)("div",{className:"textArea",children:Object(m.jsx)("input",{placeholder:"Write your sentence here... You must use the given words!",value:this.state.newSentence,onClick:this.handleInput,onChange:function(t){e.handleInput(t)}})}),Object(m.jsx)("button",{className:"btn blue circular",type:"button",onClick:this.submitNewSentence,children:"Done"})]})}}]),n}(o.a.Component),x=(n(58),n(38)),w=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={code:""},e.getDataFromDB=function(t){x.a.firestore().collection("game").where("gamePIN","==",t).get().then((function(n){n.forEach((function(n){e.navigateToGamePage(t)}))})).then(e.setState({code:"Incorrect Game PIN"}))},e.navigateToGamePage=function(t){e.props.history.push({pathname:"/make-a-story/game",gameCode:t})},e}return Object(d.a)(n,[{key:"componentDidMount",value:function(){document.body.style.background="var(--orangeGradient)"}},{key:"startGameWithCode",value:function(e){6===this.state.code.length?this.getDataFromDB(e):this.setState({code:"Game PIN must contains 6 digits"})}},{key:"handleInput",value:function(e){"Game PIN must contains 6 digits"===this.state.code||"Incorrect Game PIN"===this.state.code?this.setState({code:""}):this.setState({code:e.target.value})}},{key:"render",value:function(){var e=this;return Object(m.jsxs)("div",{className:"home",children:[Object(m.jsx)("h1",{children:"WHAT HAPPENS NEXT?"}),Object(m.jsxs)("p",{children:["Generate the code and share it with your friends to create a fun story together! You need to add a new sentence with two given words and complete What Happens Next?",Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),"You can choose from 3 vocabulary levels - Beginner, Intermediate and Advanced.",Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),"To make it harder you can only see the last sentence someone wrote, and when the story is complete you can read the whole thing.",Object(m.jsx)("br",{}),Object(m.jsx)("br",{}),"Improve your English and have fun!"]}),Object(m.jsx)(u.b,{to:"/make-a-story/create-new-game",children:Object(m.jsx)("button",{className:"btn blue circular",children:"Create new game"})}),Object(m.jsx)("h3",{children:"Or do you already have code?"}),Object(m.jsxs)("div",{className:"gamePin",children:[Object(m.jsx)("input",{placeholder:"Game PIN",value:this.state.code,onClick:function(t){e.handleInput(t)},onChange:function(t){e.handleInput(t)}}),Object(m.jsx)("button",{className:"btn red small",onClick:function(){return e.startGameWithCode(e.state.code)},children:"Enter"})]})]})}}]),n}(o.a.Component),y=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"componentDidMount",value:function(){document.body.style.backgroundColor="var(--orange)"}},{key:"goToCode",value:function(e){this.props.history.push({pathname:"/make-a-story/GameCodeViewPage",level:e})}},{key:"render",value:function(){var e=this;return Object(m.jsxs)("div",{className:"createNewGamePage",children:[Object(m.jsx)("h1",{children:"Select your level"}),Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:"circle blueGradient",children:" "}),Object(m.jsxs)("div",{className:"card blue",children:[Object(m.jsxs)("p",{children:["You want learn English",Object(m.jsx)("br",{}),"and your current level",Object(m.jsx)("br",{}),"is BASIC"]}),Object(m.jsx)("button",{onClick:function(){return e.goToCode("Beginner")},children:"Beginner"})]})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:"circle redGradient",children:" "}),Object(m.jsxs)("div",{className:"card red",children:[Object(m.jsxs)("p",{children:["You can speak English",Object(m.jsx)("br",{}),"and want to practice",Object(m.jsx)("br",{}),"with other people"]}),Object(m.jsx)("button",{onClick:function(){return e.goToCode("Intermediate")},children:"Intermediate"})]})]}),Object(m.jsxs)("div",{children:[Object(m.jsx)("div",{className:"circle orangeDarkGradient",children:" "}),Object(m.jsxs)("div",{className:"card orangeDark",children:[Object(m.jsxs)("p",{children:["You are PRO",Object(m.jsx)("br",{}),"and you want to learn",Object(m.jsx)("br",{}),"new, difficult words"]}),Object(m.jsx)("button",{onClick:function(){return e.goToCode("Advanced")},children:"Advanced"})]})]})]})}}]),n}(o.a.Component),k=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(e=t.call.apply(t,[this].concat(o))).state={code:Math.floor(888888*Math.random()+111111)},e.createNewGame=function(t){v.a.firestore().collection("game").add({gamePIN:e.state.code.toString(),level:e.props.location.level,story:""}).then((function(t){e.props.history.push({pathname:"/make-a-story/game",gameCode:e.state.code.toString()})})).catch((function(e){console.error("Error adding document: ",e)}))},e}return Object(d.a)(n,[{key:"componentDidMount",value:function(){document.body.style.backgroundColor="var(--orange)"}},{key:"goToCode",value:function(e){this.createNewGame()}},{key:"render",value:function(){var e=this;return Object(m.jsxs)("div",{className:"GameCodeView",children:[Object(m.jsx)("h2",{children:"Your Game PIN is:"}),Object(m.jsxs)("h1",{children:[" ",this.state.code,"           "]}),Object(m.jsxs)("h3",{children:["Level: ",this.props.location.level]}),Object(m.jsx)("button",{className:"btn blue circular",onClick:function(){return e.goToCode(e.state.code)},children:"Start"})]})}}]),n}(o.a.Component);v.a.initializeApp({apiKey:"AIzaSyCwnpHYoYR1rqd79iASD08rTkS1gd6ZPkw",authDomain:"make-a-story.firebaseapp.com",projectId:"make-a-story",storageBucket:"make-a-story.appspot.com",messagingSenderId:"737035725955",appId:"1:737035725955:web:4746258ce6d0a32312ffb6"});v.a.firestore(),v.a;var C=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(){return Object(i.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){return Object(m.jsx)(u.a,{children:Object(m.jsxs)("div",{className:"appContainer",children:[Object(m.jsxs)("ul",{children:[Object(m.jsx)("li",{children:Object(m.jsx)(u.b,{to:"/make-a-story/",children:"Home"})}),Object(m.jsx)("li",{children:Object(m.jsx)(u.b,{to:"/make-a-story/game",children:"Game"})}),Object(m.jsx)("li",{children:Object(m.jsx)(u.b,{to:"/make-a-story/create-new-game",children:"Create new game"})})]}),Object(m.jsx)(j.a,{exact:!0,path:"/make-a-story/",component:w}),Object(m.jsx)(j.a,{path:"/make-a-story/game",component:O}),Object(m.jsx)(j.a,{path:"/make-a-story/create-new-game",component:y}),Object(m.jsx)(j.a,{path:"/make-a-story/GameCodeViewPage",component:k})]})})}}]),n}(o.a.Component);s.a.render(Object(m.jsx)(o.a.StrictMode,{children:Object(m.jsx)(C,{})}),document.getElementById("root")),r()}},[[69,1,2]]]);
//# sourceMappingURL=main.c24552d6.chunk.js.map